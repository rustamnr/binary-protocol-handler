# Binary Protocol Handler

**Binary Protocol Handler** — это TCP-клиент на Go, реализующий обработку бинарного протокола с фиксированным заголовком. Сообщения читаются из TCP-потока, обрабатываются асинхронно, и на каждое сообщение возвращается бинарный ответ в виде заголовка.

---

## Возможности

- Поддержка бинарного протокола с фиксированным заголовком (24 байта)
- Асинхронная обработка сообщений через worker pool
- Потоковая (streaming) обработка данных с помощью `io.Reader`
- Проверка CRC32 контрольной суммы
- Полное покрытие тестами
- Гибкая и чистая архитектура проекта

---

## Формат сообщения

Каждое сообщение состоит из заголовка и (возможно) данных.

### Заголовок (24 байта):

| Поле      | Тип     | Смещение (байт) | Размер | Описание                                  |
|-----------|---------|------------------|--------|--------------------------------------------|
| `type`    | uint32  | 0–3              | 4      | Тип сообщения                              |
| `id`      | uint32  | 4–7              | 4      | Уникальный идентификатор сообщения         |
| `response`| uint32  | 8–11             | 4      | Ответ (если это ответ на сообщение)        |
| `param`   | uint32  | 12–15            | 4      | Дополнительный параметр                    |
| `dataLen` | uint32  | 16–19            | 4      | Длина блока данных                         |
| `checksum`| uint32  | 20–23            | 4      | CRC32 от первых 20 байт заголовка          |

Сразу за заголовком идёт блок данных (`dataLen` байт), если он есть.

---

## Запуск

### Тестовый сервер:
```bash 
go run ./server/test-server.go
```  
### Обработчик:
```bash 
go run ./cmd/main.go
```
### Unit-тесты
```bash
go test ./internal/...
```
